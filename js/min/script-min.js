function preLoad(){function e(e){e.onload=function(){}}for(var o=0;o<images.length;o++){var i=new Image,t=images[o];i.src=t,e(i)}}function opacityAn(e,o){$(e).css("opacity",o)}function oFlash(){var e=document.getElementById("load");e.style.opacity="0"===e.style.opacity?"1":"0"}function opaChange(){fading=setInterval(oFlash,200)}function menuFadeOut(){opacityAn(".menu","0"),opacityAn(".menu-dummy","0"),opacityAn(".bk-hm","0"),setTimeout(function(){$(".menu").css("visibility","hidden"),$(".menu-dummy").css("visibility","hidden"),w.width()<500||$(".bk-hm").css("visibility","hidden")},300)}function menuFadeIn(){opacityAn(".menu","1"),$(".menu").css("visibility","visible"),w.width()<500||(opacityAn(".bk-hm","1"),$(".bk-hm").css("visibility","visible"))}function menuFadeDummy(){opacityAn(".menu-dummy","1"),$(".menu-dummy").css("visibility","visible")}function switchColor(){currentColor=color[index++%color.length],window.console.log(currentColor+"hello1"),w.width()<500?(window.console.log(currentColor+"hello3"),$(".menu-open").css("background-color",currentColor)):$(".menu-open").css("border-bottom","2px solid white"),$(".menu-dummy").css("background",currentColor),$(".diagonal").css("color","white"),$(".big-menu a, .big-menu span").css("color","white"),$(".little-menu a").css({color:"white","border-bottom":"2px solid white"})}function menuOpen(){opacityAn(".menu-open","1"),$(".menu-open").css("visibility","visible")}function menuButtonColor(){$(".menu-open").removeClass("open"),w.width()>500?$(".menu-open").css({color:"#555","border-bottom":"2px solid #555"}):($(".menu-open").css({color:"#555",border:"none"}),$(".menu-open").css("background-color","white")),opacityAn(".closed","1"),opacityAn(".opened","0")}function clearOut(){$(".view").empty(),w.width()<500&&$(".big-menu").css({display:"block",opacity:"1"}),opacityAn(".menu-open","0"),opacityAn(".bk-hm","0"),opacityAn(".menu-dummy","0"),$(".menu-open").removeClass("open"),$(".menu-open").css("visibility","hidden"),$(".bk-hm").css("visibility","hidden"),w.width()<500&&$(".menu-open").css("background-color","white"),$(".diagonal").css("color","rgba(255, 86, 86, 0.34)"),$(".big-menu a").css("color","#555"),$(".little-menu a").css({color:"#FFAEAE","border-bottom":"2px solid #FFAEAE"}),$(".num").css("color","#c2c2c2"),$(".comma").css("color","#555")}function strobe(e){currentColor=color[index++%color.length],$(e).css("color",currentColor)}function strobe3(){strobe("a.pseudorandom")}function strobe4(){strobe("a.rising-falling")}function strobe5(){strobe("a.foundation-myths")}function strobe6(){strobe("a.suggestions")}function strobe7(){strobe("a.black-sand-white-sand-grey-sand")}function strobe8(){strobe("a.a-little-bit-cooler")}function strobe9(){strobe("a.screenshots")}function strobe10(){strobe("a.freestylez")}function flash(e,o,i){var t;$(e).mouseenter(function(){t=setInterval(i,150)}),$(e).mouseleave(function(){clearInterval(t),$(".menu-open").hasClass("open")?$(this).css("color","white"):$(this).css("color",o)})}function projectFade(e,o){var i="."+o+" img",t="."+o+" iframe",s=".view ."+o+" .image-group",n="."+o+" .piecetitle",a="."+o+" p",c=$(i),r=$(t),l=$(a);w.width()>440&&c.add(r).add(l).each(function(){var e=22*Math.random();e=Math.floor(e);var o=100*Math.random();o>49?$(this).css("left",e+"%"):$(this).css("right",e+"%")}),$(e).css("display","block"),$(e).css("opacity","1"),setTimeout(function(){opacityAn(i,"1"),opacityAn(t,"1"),opacityAn(n,"1"),opacityAn(a,"1"),w.width()>440?$(s).css("transform","translateY(170px)"):$(s).css("transform","translateY(92px)"),setTimeout(function(){opacityAn(".view .page-info","1"),opacityAn(".view .scroll","1"),opacityAn(".view .pn","1"),w.width()>440?($(".view .page-info").css("transform","translateY(49px)"),$(".view .scroll").css("transform","translateY(60px)"),$(".view .pn").css("transform","translateY(49px)")):$(".view .page-info").css("transform","translateY(25px)")},400)},600)}function shuffle(e){for(var o=e.length,i,t;0!==o;)t=Math.floor(Math.random()*o),o-=1,i=e[o],e[o]=e[t],e[t]=i;return e}function picOrder(){}function loadContent(e,o){$(".view").empty(),setTimeout(function(){$(".loading").css("z-index","3"),opacityAn(".loading","1"),$(".view").load("pages/"+e+".html",o),$(".view").css("z-index","0");var i=".big-menu a."+e;$(i).css("text-decoration","none"),window.console.log("texted"+e)},100)}function footerClick(e,o){$(".footer a").click(function(i){i.preventDefault();var t=this.href,s=$(this);s.hasClass("footer-current")||(opacityAn(e,"0"),setTimeout(function(){history.pushState("","Mitchell Barton",t),o()},300))})}function goFull(){var e;$(".image-group img").click(function(){var o=$(this).attr("src");opacityAn(".menu-open","0"),opacityAn(".view","0"),$("body").css("overflow-y","hidden"),$(".fullscreen").addClass("zoomed"),setTimeout(function(){$(".menu-open, .view").css("visibility","hidden"),e=document.createElement("img"),e.className="zoomed",e.src=o,$(".fullscreen").append(e),$(".fullscreen").css({visibility:"visible","z-index":"100"}),setTimeout(function(){$(".fullscreen img").css({transform:"scale(1)","-ms-transform":"scale(1)","-webkit-transform":"scale(1)"}),opacityAn(".fullscreen img","1"),$(".fullscreen img").click(function(){opacityAn(".fullscreen img","0"),$(".fullscreen").removeClass("zoomed"),setTimeout(function(){$(".fullscreen").css({visibility:"hidden","z-index":"-10"}),$(".fullscreen img").remove(),$(".menu-open, .view").css("visibility","visible"),$("body").css("overflow-y","scroll"),setTimeout(function(){opacityAn(".menu-open","1"),opacityAn(".view","1")},300)},300)})},300)},300)})}function titleView(){$(document).mousemove(function(e){var o=e.pageX-160,i=e.pageY-160;$(".follow").css({left:o,top:i})}),$(".image-group img").mouseenter(function(){$(".follow").css("opacity","1");var e=$(this).data("info");$(".follow").text(e)}),$(".image-group img").mouseleave(function(){$(".follow").css("opacity","0")})}function gusto(e,o,i){loadContent(e,function(){$(".loading").css("z-index","0"),opacityAn(".loading","0"),setTimeout(function(){menuFadeOut(),projectFade(o,e),menuOpen(),setTimeout(function(){opacityAn(".footer","1")},600),w.width()>500&&(goFull(),titleView()),footerClick(o,i)},100)})}function switchPage(){var e=window.location.href,o="http://mitchellbarton.com";e===o||e===o+"/"||(e===o+"/pseudorandom-landscape"?gusto("pseudorandom",".view .pseudorandom",switchPage):e===o+"/rising-falling"?gusto("rising-falling",".view .rising-falling",switchPage):e===o+"/foundation-myths"?gusto("foundation-myths",".view .foundation-myths",switchPage):e===o+"/suggestions"?gusto("suggestions",".view .suggestions",switchPage):e===o+"/black-sand-white-sand-grey-sand"?gusto("black-sand-white-sand-grey-sand",".view .black-sand-white-sand-grey-sand",switchPage):e===o+"/freestylez"?gusto("freestylez",".view .freestylez",switchPage):e===o+"/a-little-bit-cooler"?gusto("a-little-bit-cooler",".view .a-little-bit-cooler",switchPage):e===o+"/screenshots"?gusto("screenshots",".view .screenshots",switchPage):e===o+"/cv"?loadContent("cv",function(){$(".loading").css("z-index","0"),opacityAn(".loading","0"),menuFadeOut(),$(".view .cv").css("display","block"),setTimeout(function(){menuOpen(),opacityAn(".view .cv","1"),opacityAn(".view .pn","1"),$(".view .cv .contain").css("transform","translateY(30px)"),$(".view .pn").css("transform","translateY(49px)"),setTimeout(function(){opacityAn(".footer","1")},600),footerClick(".view .cv",switchPage)},800)}):($("body").empty(),$("body").load("pages/wrong-page.html")))}var color=["rgba(0, 0, 255, 1)","rgba(255, 167, 77, 1)","rgba(255, 0, 0, 1)","rgba(255, 192, 203, 1)","rgba(255, 81, 250, 1)","rgba(81, 143, 255, 1)","rgba(81, 255, 175, 1)","rgba(255, 106, 106, 1)"],index=0,w=$(window),currentColor,freestylezpics=["../images/boxes.jpg","../images/chain.jpg","../images/flyer-2.jpg","../images/jersey-1.jpg","../images/sticker.jpg","../images/card.jpg","../images/knuckles-1.jpg"],bswsgspics=["../images/b-1.jpg","../images/b-2.jpg","../images/b-3.jpg","../images/b-4.jpg","../images/b-5.jpg","../images/b-6.jpg","../images/b-7.jpg","../images/b-8.jpg","../images/b-9.jpg","../images/b-10.jpg","../images/b-11.jpg"],screenshotspics=["../images/fig-4.jpg","../images/fig-5.jpg","../images/screenshot-1-new.jpg","../images/green-rock-3.jpg","../images/sticker-book.jpg","../images/green-rail.jpg","../images/yellow-rail-1.jpg"],suggestionspics=["../images/amazon-1.jpg","../images/amazon-4.jpg","../images/amazon-5.jpg","../images/t-rex-1.jpg","../images/lightbulb-1.jpg","../images/suggestion-partner-1.jpg","../images/suggestion-partner-2.jpg"],alittlebitcoolerpics=["../images/j-3-2.jpg","../images/j-3.jpg","../images/j-7.jpg","../images/j-7-2.jpg","../images/jordan-ad4-print.jpg","../images/jordan-ad5-print.jpg","../images/jordan-ad6-print.jpg"],pseudopics=["../images/book-photo-cover.jpg","../images/book-photo-1.jpg","../images/book-photo-2.jpg","../images/book-photo-3.jpg","../images/book-photo-4.jpg","../images/book-photo-5.jpg","../images/pseudo-1.jpg","../images/pseudo-2.jpg","../images/pseudo-5.jpg","../images/pseudo-7.jpg"],risingfallingpics=["../images/rising-falling-photo.jpg","../images/rising-falling-phtot2.jpg"],images=["../images/net-presence-1.0.jpg"];images.push(freestylezpics,bswsgspics,screenshotspics,suggestionspics,alittlebitcoolerpics,pseudopics,risingfallingpics);var fading;opaChange(),w.width()>700?w.on("load",function(){preLoad(),setTimeout(function(){opacityAn(".loading","0"),setTimeout(function(){$(".loading").css("z-index","0"),setTimeout(function(){opacityAn(".diagonal",".7"),opacityAn(".menu","1"),setTimeout(function(){opacityAn(".enter-in","1")},800)},400)},100)},500)}):w.on("load",function(){preLoad(),setTimeout(function(){opacityAn(".diagonal",".7"),opacityAn(".menu","1"),setTimeout(function(){opacityAn(".enter-in","1")},800)},400)}),$(document).ready(function(){function e(){s=40*Math.random(),s=Math.floor(s),n=80*Math.random(),n=Math.floor(n),$(".diagonal").css({top:n+"%",left:s+"%"})}function o(){t=360*Math.random(),t=Math.floor(t),$(".diagonal").css("-webkit-transform","rotate("+t+"deg)"),$(".diagonal").css("-ms-transform","rotate("+t+"deg)"),$(".diagonal").css("transform","rotate("+t+"deg)"),setTimeout(function(){o()},6e4)}function i(){e(),o(),window.console.log("rando rotated")}var t,s,n;i(),switchPage(),$(".diagonal").click(function(){event.preventDefault(),i()}),w.width()>800&&(flash("a.pseudorandom","#555",strobe3),flash("a.rising-falling","#555",strobe4),flash("a.foundation-myths","#555",strobe5),flash("a.suggestions","#555",strobe6),flash("a.black-sand-white-sand-grey-sand","#555",strobe7),flash("a.a-little-bit-cooler","#555",strobe8),flash("a.screenshots","#555",strobe9),flash("a.freestylez","#555",strobe10)),$(".menu-open").click(function(e){e.preventDefault(),$(this).hasClass("open")?(menuFadeOut(),menuButtonColor(),$("body").css("overflow-y","auto"),w.width()<500&&($(this).hasClass("flat")?$(".menu-open").css({left:"0",right:"0","margin-left":"auto","margin-right":"auto",width:"100%",background:"rgb(255, 174, 174)",bottom:"0px"}):$(".menu-open").css("background-color","white")),setTimeout(function(){$(".view").css("z-index","0")},300)):($("body").css("overflow-y","hidden"),$(this).hasClass("flat")&&$(".menu-open").css({left:"20px",right:"auto","margin-left":"0","margin-right":"0",width:"46px",bottom:"20px"}),$(this).css("color","white"),switchColor(),i(),menuFadeIn(),menuFadeDummy(),$(".view").css("z-index","-1"),opacityAn(".closed","0"),opacityAn(".opened","1"),$(this).addClass("open"))}),w.on("scroll",function(){var e=$(this).scrollTop()+200;$(".pseudorandom img, .rising-falling img, .rising-falling iframe, .screenshots img, .foundation-myths img, .freestylez img, .net-presence img, .suggestions img, .black-sand-white-sand-grey-sand img, .a-little-bit-cooler img").each(function(){var o=$(this).offset().top,i=o-e,t=$(this).data("order");100>i&&i>-100&&$(".count").text(t)}),w.width()<500&&($(this).scrollTop()+$(this).height()>$(document).height()-100?($(".menu-open").css({left:"0",right:"0","margin-left":"auto","margin-right":"auto",width:"100%",background:"rgb(255, 174, 174)",bottom:"0px"}),$(".closed").css("color","white"),$(".menu-open").addClass("flat"),window.console.log("flattened "+w.scrollTop())):($(".menu-open").css({left:"20px",right:"auto","margin-left":"0","margin-right":"0",width:"46px",background:"white",bottom:"20px"}),$(".closed").css("color","#555"),$(".menu-open").removeClass("flat")))}),$(".bk-hm").click(function(e){e.preventDefault(),menuFadeIn(),clearOut(),$(".view").css("z-index","-1"),history.pushState("","Mitchell Barton","/")}),$(".big-menu a, .little-menu a").click(function(e){if($(this).hasClass("tumblr"))window.console.log("tumblr");else{e.preventDefault(),$("body").css("overflow-y","auto");var o=this.href,i=$(this);$("a").removeClass("current"),i.addClass("current"),$(".menu-open").css({left:"20px",right:"auto","margin-left":"0","margin-right":"0",width:"46px",bottom:"20px"}),menuButtonColor(),i.hasClass("current")&&menuFadeOut(),history.pushState("","Mitchell Barton",o),switchPage()}}),window.onpopstate=function(){var e=location.pathname,o=e.substring(location.pathname.lastIndexOf("/")+1);$(".fullscreen").hasClass("zoomed")&&(opacityAn(".fullscreen img","0"),$(".fullscreen").removeClass("zoomed"),setTimeout(function(){$(".fullscreen").css({visibility:"hidden","z-index":"-10"}),$(".fullscreen img").remove(),$(".menu-open, .view").css("visibility","visible"),$("body").css("overflow-y","scroll"),setTimeout(function(){opacityAn(".view","1")},300)},300)),""===e||"/"===e?(menuFadeIn(),clearOut(),$(".view").css("z-index","-1")):(switchPage(),menuButtonColor()),$("a").removeClass("current"),$('[href="'+o+'"]').addClass("current")}});